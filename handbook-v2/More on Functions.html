
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>More On Functions · TypeScript 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Narrowing.html" />
    
    
    <link rel="prev" href="Modules.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Declaration Files
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" >
            
                <span>
            
                    
                    Templates
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../declaration-files/templates/global-modifying-module.d.ts.html">
            
                <a href="../declaration-files/templates/global-modifying-module.d.ts.html">
            
                    
                    Global Modifying Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.2" data-path="../declaration-files/templates/global-plugin.d.ts.html">
            
                <a href="../declaration-files/templates/global-plugin.d.ts.html">
            
                    
                    Global Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.3" data-path="../declaration-files/templates/global.d.ts.html">
            
                <a href="../declaration-files/templates/global.d.ts.html">
            
                    
                    Global .d.ts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.4" data-path="../declaration-files/templates/module-class.d.ts.html">
            
                <a href="../declaration-files/templates/module-class.d.ts.html">
            
                    
                    Module Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.5" data-path="../declaration-files/templates/module-function.d.ts.html">
            
                <a href="../declaration-files/templates/module-function.d.ts.html">
            
                    
                    Module Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.6" data-path="../declaration-files/templates/module-plugin.d.ts.html">
            
                <a href="../declaration-files/templates/module-plugin.d.ts.html">
            
                    
                    Module Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.7" data-path="../declaration-files/templates/module.d.ts.html">
            
                <a href="../declaration-files/templates/module.d.ts.html">
            
                    
                    Modules .d.ts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../declaration-files/By Example.html">
            
                <a href="../declaration-files/By Example.html">
            
                    
                    Declaration Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../declaration-files/Consumption.html">
            
                <a href="../declaration-files/Consumption.html">
            
                    
                    Consumption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../declaration-files/Deep Dive.html">
            
                <a href="../declaration-files/Deep Dive.html">
            
                    
                    Deep Dive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="../declaration-files/Do's and Don'ts.html">
            
                <a href="../declaration-files/Do's and Don'ts.html">
            
                    
                    Do S And Don Ts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="../declaration-files/Introduction.html">
            
                <a href="../declaration-files/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="../declaration-files/Library Structures.html">
            
                <a href="../declaration-files/Library Structures.html">
            
                    
                    Library Structures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="../declaration-files/Publishing.html">
            
                <a href="../declaration-files/Publishing.html">
            
                    
                    Publishing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="../declaration-files/Templates.html">
            
                <a href="../declaration-files/Templates.html">
            
                    
                    Templates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Get Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../get-started/TS for Functional Programmers.html">
            
                <a href="../get-started/TS for Functional Programmers.html">
            
                    
                    Type Script For Functional Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../get-started/TS for JS Programmers.html">
            
                <a href="../get-started/TS for JS Programmers.html">
            
                    
                    Type Script For Java Script Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../get-started/TS for OOPers.html">
            
                <a href="../get-started/TS for OOPers.html">
            
                    
                    Type Script For Java C Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../get-started/TS for the New Programmer.html">
            
                <a href="../get-started/TS for the New Programmer.html">
            
                    
                    Type Script For The New Programmer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Handbook V 1
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../handbook-v1/Basic Types.html">
            
                <a href="../handbook-v1/Basic Types.html">
            
                    
                    Basic Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../handbook-v1/Classes.html">
            
                <a href="../handbook-v1/Classes.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../handbook-v1/Functions.html">
            
                <a href="../handbook-v1/Functions.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../handbook-v1/Generics.html">
            
                <a href="../handbook-v1/Generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../handbook-v1/Interfaces.html">
            
                <a href="../handbook-v1/Interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../handbook-v1/Literal Types.html">
            
                <a href="../handbook-v1/Literal Types.html">
            
                    
                    Literal Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../handbook-v1/Unions and Intersections.html">
            
                <a href="../handbook-v1/Unions and Intersections.html">
            
                    
                    Unions And Intersection Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Handbook V 2
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Type Manipulation
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="Type Manipulation/_Creating Types from Types.html">
            
                <a href="Type Manipulation/_Creating Types from Types.html">
            
                    
                    Creating Types From Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="Type Manipulation/Conditional Types.html">
            
                <a href="Type Manipulation/Conditional Types.html">
            
                    
                    Conditional Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="Type Manipulation/Generics.html">
            
                <a href="Type Manipulation/Generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="Type Manipulation/Indexed Access Types.html">
            
                <a href="Type Manipulation/Indexed Access Types.html">
            
                    
                    Indexed Access Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="Type Manipulation/Keyof Type Operator.html">
            
                <a href="Type Manipulation/Keyof Type Operator.html">
            
                    
                    Keyof Type Operator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="Type Manipulation/Mapped Types.html">
            
                <a href="Type Manipulation/Mapped Types.html">
            
                    
                    Mapped Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="Type Manipulation/Template Literal Types.html">
            
                <a href="Type Manipulation/Template Literal Types.html">
            
                    
                    Template Literal Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.8" data-path="Type Manipulation/Typeof Type Operator.html">
            
                <a href="Type Manipulation/Typeof Type Operator.html">
            
                    
                    Typeof Type Operator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="Basics.html">
            
                <a href="Basics.html">
            
                    
                    The Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="Classes.html">
            
                <a href="Classes.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="Everyday Types.html">
            
                <a href="Everyday Types.html">
            
                    
                    Everyday Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="Modules.html">
            
                <a href="Modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.6" data-path="More on Functions.html">
            
                <a href="More on Functions.html">
            
                    
                    More On Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="Narrowing.html">
            
                <a href="Narrowing.html">
            
                    
                    Narrowing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="Object Types.html">
            
                <a href="Object Types.html">
            
                    
                    Object Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="The Handbook.html">
            
                <a href="The Handbook.html">
            
                    
                    The Type Script Handbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="Type Declarations.html">
            
                <a href="Type Declarations.html">
            
                    
                    Type Declarations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="Understanding Errors.html">
            
                <a href="Understanding Errors.html">
            
                    
                    Understanding Errors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../javascript/Creating DTS files From JS.html">
            
                <a href="../javascript/Creating DTS files From JS.html">
            
                    
                    Creating .d.ts Files from .js files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../javascript/Intro to JS with TS.html">
            
                <a href="../javascript/Intro to JS with TS.html">
            
                    
                    JS Projects Utilizing Type Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../javascript/JSDoc Reference.html">
            
                <a href="../javascript/JSDoc Reference.html">
            
                    
                    JS Doc Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../javascript/Type Checking JavaScript Files.html">
            
                <a href="../javascript/Type Checking JavaScript Files.html">
            
                    
                    Type Checking Java Script Files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Project Config
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../project-config/Compiler Options in MSBuild.html">
            
                <a href="../project-config/Compiler Options in MSBuild.html">
            
                    
                    Compiler Options In MS Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../project-config/Compiler Options.html">
            
                <a href="../project-config/Compiler Options.html">
            
                    
                    Tsc CLI Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../project-config/Configuring Watch.html">
            
                <a href="../project-config/Configuring Watch.html">
            
                    
                    Configuring Watch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../project-config/Integrating with Build Tools.html">
            
                <a href="../project-config/Integrating with Build Tools.html">
            
                    
                    Integrating With Build Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../project-config/Project References.html">
            
                <a href="../project-config/Project References.html">
            
                    
                    Project References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../project-config/tsconfig.json.html">
            
                <a href="../project-config/tsconfig.json.html">
            
                    
                    What is a tsconfig.json
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Reference
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../reference/Advanced Types.html">
            
                <a href="../reference/Advanced Types.html">
            
                    
                    Advanced Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../reference/Declaration Merging.html">
            
                <a href="../reference/Declaration Merging.html">
            
                    
                    Declaration Merging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../reference/Decorators.html">
            
                <a href="../reference/Decorators.html">
            
                    
                    Decorators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../reference/Enums.html">
            
                <a href="../reference/Enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../reference/Iterators and Generators.html">
            
                <a href="../reference/Iterators and Generators.html">
            
                    
                    Iterators And Generators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../reference/JSX.html">
            
                <a href="../reference/JSX.html">
            
                    
                    JSX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../reference/Mixins.html">
            
                <a href="../reference/Mixins.html">
            
                    
                    Mixins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../reference/Module Resolution.html">
            
                <a href="../reference/Module Resolution.html">
            
                    
                    Module Resolution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../reference/Modules.html">
            
                <a href="../reference/Modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../reference/Namespaces and Modules.html">
            
                <a href="../reference/Namespaces and Modules.html">
            
                    
                    Namespaces And Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../reference/Namespaces.html">
            
                <a href="../reference/Namespaces.html">
            
                    
                    Namespaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../reference/Symbols.html">
            
                <a href="../reference/Symbols.html">
            
                    
                    Symbols
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../reference/Triple-Slash Directives.html">
            
                <a href="../reference/Triple-Slash Directives.html">
            
                    
                    Triple Slash Directives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../reference/Type Compatibility.html">
            
                <a href="../reference/Type Compatibility.html">
            
                    
                    Type Compatibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../reference/Type Inference.html">
            
                <a href="../reference/Type Inference.html">
            
                    
                    Type Inference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="../reference/Utility Types.html">
            
                <a href="../reference/Utility Types.html">
            
                    
                    Utility Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="../reference/Variable Declarations.html">
            
                <a href="../reference/Variable Declarations.html">
            
                    
                    Variable Declaration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Release Notes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../release-notes/Overview.html">
            
                <a href="../release-notes/Overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../release-notes/TypeScript 1.1.html">
            
                <a href="../release-notes/TypeScript 1.1.html">
            
                    
                    TypeScript 1.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../release-notes/TypeScript 1.3.html">
            
                <a href="../release-notes/TypeScript 1.3.html">
            
                    
                    TypeScript 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../release-notes/TypeScript 1.4.html">
            
                <a href="../release-notes/TypeScript 1.4.html">
            
                    
                    TypeScript 1.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../release-notes/TypeScript 1.5.html">
            
                <a href="../release-notes/TypeScript 1.5.html">
            
                    
                    TypeScript 1.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../release-notes/TypeScript 1.6.html">
            
                <a href="../release-notes/TypeScript 1.6.html">
            
                    
                    TypeScript 1.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../release-notes/TypeScript 1.7.html">
            
                <a href="../release-notes/TypeScript 1.7.html">
            
                    
                    TypeScript 1.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../release-notes/TypeScript 1.8.html">
            
                <a href="../release-notes/TypeScript 1.8.html">
            
                    
                    TypeScript 1.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="../release-notes/TypeScript 2.0.html">
            
                <a href="../release-notes/TypeScript 2.0.html">
            
                    
                    TypeScript 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="../release-notes/TypeScript 2.1.html">
            
                <a href="../release-notes/TypeScript 2.1.html">
            
                    
                    TypeScript 2.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="../release-notes/TypeScript 2.2.html">
            
                <a href="../release-notes/TypeScript 2.2.html">
            
                    
                    TypeScript 2.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="../release-notes/TypeScript 2.3.html">
            
                <a href="../release-notes/TypeScript 2.3.html">
            
                    
                    TypeScript 2.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="../release-notes/TypeScript 2.4.html">
            
                <a href="../release-notes/TypeScript 2.4.html">
            
                    
                    TypeScript 2.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.14" data-path="../release-notes/TypeScript 2.5.html">
            
                <a href="../release-notes/TypeScript 2.5.html">
            
                    
                    TypeScript 2.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.15" data-path="../release-notes/TypeScript 2.6.html">
            
                <a href="../release-notes/TypeScript 2.6.html">
            
                    
                    TypeScript 2.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.16" data-path="../release-notes/TypeScript 2.7.html">
            
                <a href="../release-notes/TypeScript 2.7.html">
            
                    
                    TypeScript 2.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.17" data-path="../release-notes/TypeScript 2.8.html">
            
                <a href="../release-notes/TypeScript 2.8.html">
            
                    
                    TypeScript 2.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.18" data-path="../release-notes/TypeScript 2.9.html">
            
                <a href="../release-notes/TypeScript 2.9.html">
            
                    
                    TypeScript 2.9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.19" data-path="../release-notes/TypeScript 3.0.html">
            
                <a href="../release-notes/TypeScript 3.0.html">
            
                    
                    TypeScript 3.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.20" data-path="../release-notes/TypeScript 3.1.html">
            
                <a href="../release-notes/TypeScript 3.1.html">
            
                    
                    TypeScript 3.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.21" data-path="../release-notes/TypeScript 3.2.html">
            
                <a href="../release-notes/TypeScript 3.2.html">
            
                    
                    TypeScript 3.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.22" data-path="../release-notes/TypeScript 3.3.html">
            
                <a href="../release-notes/TypeScript 3.3.html">
            
                    
                    TypeScript 3.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.23" data-path="../release-notes/TypeScript 3.4.html">
            
                <a href="../release-notes/TypeScript 3.4.html">
            
                    
                    TypeScript 3.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.24" data-path="../release-notes/TypeScript 3.5.html">
            
                <a href="../release-notes/TypeScript 3.5.html">
            
                    
                    TypeScript 3.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.25" data-path="../release-notes/TypeScript 3.6.html">
            
                <a href="../release-notes/TypeScript 3.6.html">
            
                    
                    TypeScript 3.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.26" data-path="../release-notes/TypeScript 3.7.html">
            
                <a href="../release-notes/TypeScript 3.7.html">
            
                    
                    TypeScript 3.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.27" data-path="../release-notes/TypeScript 3.8.html">
            
                <a href="../release-notes/TypeScript 3.8.html">
            
                    
                    TypeScript 3.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.28" data-path="../release-notes/TypeScript 3.9.html">
            
                <a href="../release-notes/TypeScript 3.9.html">
            
                    
                    TypeScript 3.9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.29" data-path="../release-notes/TypeScript 4.0.html">
            
                <a href="../release-notes/TypeScript 4.0.html">
            
                    
                    TypeScript 4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.30" data-path="../release-notes/TypeScript 4.1.html">
            
                <a href="../release-notes/TypeScript 4.1.html">
            
                    
                    TypeScript 4.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.31" data-path="../release-notes/TypeScript 4.2.html">
            
                <a href="../release-notes/TypeScript 4.2.html">
            
                    
                    TypeScript 4.2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../tutorials/Angular.html">
            
                <a href="../tutorials/Angular.html">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../tutorials/ASP.NET Core.html">
            
                <a href="../tutorials/ASP.NET Core.html">
            
                    
                    ASP.NET Core
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../tutorials/Babel with TypeScript.html">
            
                <a href="../tutorials/Babel with TypeScript.html">
            
                    
                    Using Babel With Type Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../tutorials/DOM Manipulation.html">
            
                <a href="../tutorials/DOM Manipulation.html">
            
                    
                    DOM Manipulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../tutorials/Gulp.html">
            
                <a href="../tutorials/Gulp.html">
            
                    
                    Gulp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../tutorials/Migrating from JavaScript.html">
            
                <a href="../tutorials/Migrating from JavaScript.html">
            
                    
                    Migrating From Java Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../tutorials/React.html">
            
                <a href="../tutorials/React.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../tutorials/TypeScript Tooling in 5 minutes.html">
            
                <a href="../tutorials/TypeScript Tooling in 5 minutes.html">
            
                    
                    Type Script Tooling In 5 Minutes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../Nightly Builds.html">
            
                <a href="../Nightly Builds.html">
            
                    
                    Nightly Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../">
            
                <a href="../">
            
                    
                    Type Script Tooling In 5 Minutes
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >More On Functions</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>Functions are the basic building block of any application, whether they&apos;re local functions, imported from another module, or methods on a class.
They&apos;re also values, and just like other values, TypeScript has many ways to describe how functions can be called.
Let&apos;s learn about how to write types that describe functions.</p>
<h2 id="function-type-expressions">Function Type Expressions</h2>
<p>The simplest way to describe a function is with a <em>function type expression</em>.
These types are syntactically similar to arrow functions:</p>
<p>```ts twoslash
function greeter(fn: (a: string) =&gt; void) {
  fn(&quot;Hello, World&quot;);
}</p>
<p>function printToConsole(s: string) {
  console.log(s);
}</p>
<p>greeter(printToConsole);</p>
<pre class="language-"><code>
The syntax `(a: string) =&gt; void` means &quot;a function with one parameter, named `a`, of type string, that doesn&apos;t have a return value&quot;.
Just like with function declarations, if a parameter type isn&apos;t specified, it&apos;s implicitly `any`.

&gt; Note that the parameter name is **required**. The function type `(string) =&gt; void` means &quot;a function with a parameter named `string` of type `any`&quot;!

Of course, we can use a type alias to name a function type:

```ts twoslash
type GreetFunction = (a: string) =&gt; void;
function greeter(fn: GreetFunction) {
  // ...
}
</code></pre><h2 id="call-signatures">Call Signatures</h2>
<p>In JavaScript, functions can have properties in addition to being callable.
However, the function type expression syntax doesn&apos;t allow for declaring properties.
If we want to describe something callable with properties, we can write a <em>call signature</em> in an object type:</p>
<p>```ts twoslash
type DescribableFunction = {
  description: string;
  (someArg: number): boolean;
};
function doSomething(fn: DescribableFunction) {
  console.log(fn.description + &quot; returned &quot; + fn(6));
}</p>
<pre class="language-"><code>
Note that the syntax is slightly different compared to a function type expression - use `:` between the parameter list and the return type rather than `=&gt;`.

## Construct Signatures

JavaScript functions can also be invoked with the `new` operator.
TypeScript refers to these as _constructors_ because they usually create a new object.
You can write a _construct signature_ by adding the `new` keyword in front of a call signature:

```ts twoslash
type SomeObject = any;
// ---cut---
type SomeConstructor = {
  new (s: string): SomeObject;
};
function fn(ctor: SomeConstructor) {
  return new ctor(&quot;hello&quot;);
}
</code></pre><p>Some objects, like JavaScript&apos;s <code>Date</code> object, can be called with or without <code>new</code>.
You can combine call and construct signatures in the same type arbitrarily:</p>
<p>```ts twoslash
interface CallOrConstruct {
  new (s: string): Date;
  (n?: number): number;
}</p>
<pre class="language-"><code>
## Generic Functions

It&apos;s common to write a function where the types of the input relate to the type of the output, or where the types of two inputs are related in some way.
Let&apos;s consider for a moment a function that returns the first element of an array:

```ts twoslash
function firstElement(arr: any[]) {
  return arr[0];
}
</code></pre><p>This function does its job, but unfortunately has the return type <code>any</code>.
It&apos;d be better if the function returned the type of the array element.</p>
<p>In TypeScript, <em>generics</em> are used when we want to describe a correspondence between two values.
We do this by declaring a <em>type parameter</em> in the function signature:</p>
<p>```ts twoslash
function firstElement<type>(arr: Type[]): Type {
  return arr[0];
}</type></p>
<pre class="language-"><code>
By adding a type parameter `Type` to this function and using it in two places, we&apos;ve created a link between the input of the function (the array) and the output (the return value).
Now when we call it, a more specific type comes out:

```ts twoslash
declare function firstElement<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span>(arr: Type[]): Type;
// ---cut---
// s is of type &apos;string&apos;
const s = firstElement([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]);
// n is of type &apos;number&apos;
const n = firstElement([1, 2, 3]);
</code></pre><h3 id="inference">Inference</h3>
<p>Note that we didn&apos;t have to specify <code>Type</code> in this sample.
The type was <em>inferred</em> - chosen automatically - by TypeScript.</p>
<p>We can use multiple type parameters as well.
For example, a standalone version of <code>map</code> would look like this:</p>
<p>```ts twoslash
// prettier-ignore
function map<input, output="">(arr: Input[], func: (arg: Input) =&gt; Output): Output[] {
  return arr.map(func);
}</input,></p>
<p>// Parameter &apos;n&apos; is of type &apos;string&apos;
// &apos;parsed&apos; is of type &apos;number[]&apos;
const parsed = map([&quot;1&quot;, &quot;2&quot;, &quot;3&quot;], (n) =&gt; parseInt(n));</p>
<pre class="language-"><code>
Note that in this example, TypeScript could infer both the type of the `Input` type parameter (from the given `string` array), as well as the `Output` type parameter based on the return value of the function expression (`number`).

### Constraints

We&apos;ve written some generic functions that can work on _any_ kind of value.
Sometimes we want to relate two values, but can only operate on a certain subset of values.
In this case, we can use a _constraint_ to limit the kinds of types that a type parameter can accept.

Let&apos;s write a function that returns the longer of two values.
To do this, we need a `length` property that&apos;s a number.
We _constrain_ the type parameter to that type by writing an `extends` clause:

```ts twoslash
// @errors: 2345 2322
function longest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span> <span class="token attr-name">extends</span> <span class="token attr-name">{</span> <span class="token attr-name"><span class="token namespace">length:</span></span> <span class="token attr-name">number</span> <span class="token attr-name">}</span><span class="token punctuation">&gt;</span></span>(a: Type, b: Type) {
  if (a.length &gt;= b.length) {
    return a;
  } else {
    return b;
  }
}

// longerArray is of type &apos;number[]&apos;
const longerArray = longest([1, 2], [1, 2, 3]);
// longerString is of type &apos;string&apos;
const longerString = longest(&quot;alice&quot;, &quot;bob&quot;);
// Error! Numbers don&apos;t have a &apos;length&apos; property
const notOK = longest(10, 100);
</code></pre><p>There are few interesting things to note in this example.
We allowed TypeScript to <em>infer</em> the return type of <code>longest</code>.
Return type inference also works on generic functions.</p>
<p>Because we constrained <code>Type</code> to <code>{ length: number }</code>, we were allowed to access the <code>.length</code> property of the <code>a</code> and <code>b</code> parameters.
Without the type constraint, we wouldn&apos;t be able to access those properties because the values might have been some other type without a length property.</p>
<p>The types of <code>longerArray</code> and <code>longerString</code> were inferred based on the arguments.
Remember, generics are all about relating two or more values with the same type!</p>
<p>Finally, just as we&apos;d like, the call to <code>longest(10, 100)</code> is rejected because the <code>number</code> type doesn&apos;t have a <code>.length</code> property.</p>
<h3 id="working-with-constrained-values">Working with Constrained Values</h3>
<p>Here&apos;s a common error when working with generic constraints:</p>
<p>```ts twoslash
// @errors: 2322
function minimumLength<type extends="" {="" length:="" number="" }="">(
  obj: Type,
  minimum: number
): Type {
  if (obj.length &gt;= minimum) {
    return obj;
  } else {
    return { length: minimum };
  }
}</type></p>
<pre class="language-"><code>
It might look like this function is OK - `Type` is constrained to `{ length: number }`, and the function either returns `Type` or a value matching that constraint.
The problem is that the function promises to return the _same_ kind of object as was passed in, not just _some_ object matching the constraint.
If this code were legal, you could write code that definitely wouldn&apos;t work:

```ts twoslash
declare function minimumLength<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span> <span class="token attr-name">extends</span> <span class="token attr-name">{</span> <span class="token attr-name"><span class="token namespace">length:</span></span> <span class="token attr-name">number</span> <span class="token attr-name">}</span><span class="token punctuation">&gt;</span></span>(
  obj: Type,
  minimum: number
): Type;
// ---cut---
// &apos;arr&apos; gets value { length: 6 }
const arr = minimumLength([1, 2, 3], 6);
// and crashes here because arrays have
// a &apos;slice&apos; method, but not the returned object!
console.log(arr.slice(0));
</code></pre><h3 id="specifying-type-arguments">Specifying Type Arguments</h3>
<p>TypeScript can usually infer the intended type arguments in a generic call, but not always.
For example, let&apos;s say you wrote a function to combine two arrays:</p>
<p>```ts twoslash
function combine<type>(arr1: Type[], arr2: Type[]): Type[] {
  return arr1.concat(arr2);
}</type></p>
<pre class="language-"><code>
Normally it would be an error to call this function with mismatched arrays:

```ts twoslash
// @errors: 2322
declare function combine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span>(arr1: Type[], arr2: Type[]): Type[];
// ---cut---
const arr = combine([1, 2, 3], [&quot;hello&quot;]);
</code></pre><p>If you intended to do this, however, you could manually specify <code>Type</code>:</p>
<p>```ts twoslash
declare function combine<type>(arr1: Type[], arr2: Type[]): Type[];
// ---cut---
const arr = combine<string |="" number="">([1, 2, 3], [&quot;hello&quot;]);</string></type></p>
<pre class="language-"><code>
### Guidelines for Writing Good Generic Functions

Writing generic functions is fun, and it can be easy to get carried away with type parameters.
Having too many type parameters or using constraints where they aren&apos;t needed can make inference less successful, frustrating callers of your function.

#### Push Type Parameters Down

Here are two ways of writing a function that appear similar:

```ts twoslash
function firstElement1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span>(arr: Type[]) {
  return arr[0];
}

function firstElement2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span> <span class="token attr-name">extends</span> <span class="token attr-name">any[]</span><span class="token punctuation">&gt;</span></span>(arr: Type) {
  return arr[0];
}

// a: number (good)
const a = firstElement1([1, 2, 3]);
// b: any (bad)
const b = firstElement2([1, 2, 3]);
</code></pre><p>These might seem identical at first glance, but <code>firstElement1</code> is a much better way to write this function.
Its inferred return type is <code>Type</code>, but <code>firstElement2</code>&apos;s inferred return type is <code>any</code> because TypeScript has to resolve the <code>arr[0]</code> expression using the constraint type, rather than &quot;waiting&quot; to resolve the element during a call.</p>
<blockquote>
<p><strong>Rule</strong>: When possible, use the type parameter itself rather than constraining it</p>
</blockquote>
<h4 id="use-fewer-type-parameters">Use Fewer Type Parameters</h4>
<p>Here&apos;s another pair of similar functions:</p>
<p>```ts twoslash
function filter1<type>(arr: Type[], func: (arg: Type) =&gt; boolean): Type[] {
  return arr.filter(func);
}</type></p>
<p>function filter2<type, func="" extends="" (arg:="" type)=""> boolean&gt;(
  arr: Type[],
  func: Func
): Type[] {
  return arr.filter(func);
}</type,></p>
<pre class="language-"><code>
We&apos;ve created a type parameter `Func` that _doesn&apos;t relate two values_.
That&apos;s always a red flag, because it means callers wanting to specify type arguments have to manually specify an extra type argument for no reason.
`Func` doesn&apos;t do anything but make the function harder to read and reason about!

&gt; **Rule**: Always use as few type parameters as possible

#### Type Parameters Should Appear Twice

Sometimes we forget that a function might not need to be generic:

```ts twoslash
function greet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Str</span> <span class="token attr-name">extends</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span>(s: Str) {
  console.log(&quot;Hello, &quot; + s);
}

greet(&quot;world&quot;);
</code></pre><p>We could just as easily have written a simpler version:</p>
<p>```ts twoslash
function greet(s: string) {
  console.log(&quot;Hello, &quot; + s);
}</p>
<pre class="language-"><code>
Remember, type parameters are for _relating the types of multiple values_.
If a type parameter is only used once in the function signature, it&apos;s not relating anything.

&gt; **Rule**: If a type parameter only appears in one location, strongly reconsider if you actually need it

## Optional Parameters

Functions in JavaScript often take a variable number of arguments.
For example, the `toFixed` method of `number` takes an optional digit count:

```ts twoslash
function f(n: number) {
  console.log(n.toFixed()); // 0 arguments
  console.log(n.toFixed(3)); // 1 argument
}
</code></pre><p>We can model this in TypeScript by marking the parameter as <em>optional</em> with <code>?</code>:</p>
<p>```ts twoslash
function f(x?: number) {
  // ...
}
f(); // OK
f(10); // OK</p>
<pre class="language-"><code>
Although the parameter is specified as type `number`, the `x` parameter will actually have the type `number | undefined` because unspecified parameters in JavaScript get the value `undefined`.

You can also provide a parameter _default_:

```ts twoslash
function f(x = 10) {
  // ...
}
</code></pre><p>Now in the body of <code>f</code>, <code>x</code> will have type <code>number</code> because any <code>undefined</code> argument will be replaced with <code>10</code>.
Note that when a parameter is optional, callers can always pass <code>undefined</code>, as this simply simulates a &quot;missing&quot; argument:</p>
<p>```ts twoslash
declare function f(x?: number): void;
// cut
// All OK
f();
f(10);
f(undefined);</p>
<pre class="language-"><code>
### Optional Parameters in Callbacks

Once you&apos;ve learned about optional parameters and function type expressions, it&apos;s very easy to make the following mistakes when writing functions that invoke callbacks:

```ts twoslash
function myForEach(arr: any[], callback: (arg: any, index?: number) =&gt; void) {
  for (let i = 0; i &lt; arr.length; i++) {
    callback(arr[i], i);
  }
}
</code></pre><p>What people usually intend when writing <code>index?</code> as an optional parameter is that they want both of these calls to be legal:</p>
<p>```ts twoslash
// @errors: 2532
declare function myForEach(
  arr: any[],
  callback: (arg: any, index?: number) =&gt; void
): void;
// ---cut---
myForEach([1, 2, 3], (a) =&gt; console.log(a));
myForEach([1, 2, 3], (a, i) =&gt; console.log(a, i));</p>
<pre class="language-"><code>
What this _actually_ means is that _`callback` might get invoked with one argument_.
In other words, the function definition says that the implementation might look like this:

```ts twoslash
// @errors: 2532
function myForEach(arr: any[], callback: (arg: any, index?: number) =&gt; void) {
  for (let i = 0; i &lt; arr.length; i++) {
    // I don&apos;t feel like providing the index today
    callback(arr[i]);
  }
}
</code></pre><p>In turn, TypeScript will enforce this meaning and issue errors that aren&apos;t really possible:</p>
<!-- prettier-ignore -->
<p>```ts twoslash
// @errors: 2532
declare function myForEach(
  arr: any[],
  callback: (arg: any, index?: number) =&gt; void
): void;
// ---cut---
myForEach([1, 2, 3], (a, i) =&gt; {
  console.log(i.toFixed());
});</p>
<pre class="language-"><code>
In JavaScript, if you call a function with more arguments than there are parameters, the extra arguments are simply ignored.
TypeScript behaves the same way.
Functions with fewer parameters (of the same types) can always take the place of functions with more parameters.

&gt; When writing a function type for a callback, _never_ write an optional parameter unless you intend to _call_ the function without passing that argument

## Function Overloads

Some JavaScript functions can be called in a variety of argument counts and types.
For example, you might write a function to produce a `Date` that takes either a timestamp (one argument) or a month/day/year specification (three arguments).

In TypeScript, we can specify a function that can be called in different ways by writing _overload signatures_.
To do this, write some number of function signatures (usually two or more), followed by the body of the function:

```ts twoslash
// @errors: 2575
function makeDate(timestamp: number): Date;
function makeDate(m: number, d: number, y: number): Date;
function makeDate(mOrTimestamp: number, d?: number, y?: number): Date {
  if (d !== undefined &amp;&amp; y !== undefined) {
    return new Date(y, mOrTimestamp, d);
  } else {
    return new Date(mOrTimestamp);
  }
}
const d1 = makeDate(12345678);
const d2 = makeDate(5, 5, 5);
const d3 = makeDate(1, 3);
</code></pre><p>In this example, we wrote two overloads: one accepting one argument, and another accepting three arguments.
These first two signatures are called the <em>overload signatures</em>.</p>
<p>Then, we wrote a function implementation with a compatible signature.
Functions have an <em>implementation</em> signature, but this signature can&apos;t be called directly.
Even though we wrote a function with two optional parameters after the required one, it can&apos;t be called with two parameters!</p>
<h3 id="overload-signatures-and-the-implementation-signature">Overload Signatures and the Implementation Signature</h3>
<p>This is a common source of confusion.
Often people will write code like this and not understand why there is an error:</p>
<p>```ts twoslash
// @errors: 2554
function fn(x: string): void;
function fn() {
  // ...
}
// Expected to be able to call with zero arguments
fn();</p>
<pre class="language-"><code>
Again, the signature used to write the function body can&apos;t be &quot;seen&quot; from the outside.

&gt; The signature of the _implementation_ is not visible from the outside.
&gt; When writing an overloaded function, you should always have _two_ or more signatures above the implementation of the function.

The implementation signature must also be _compatible_ with the overload signatures.
For example, these functions have errors because the implementation signature doesn&apos;t match the overloads in a correct way:

```ts twoslash
// @errors: 2394
function fn(x: boolean): void;
// Argument type isn&apos;t right
function fn(x: string): void;
function fn(x: boolean) {}
</code></pre><p>```ts twoslash
// @errors: 2394
function fn(x: string): string;
// Return type isn&apos;t right
function fn(x: number): boolean;
function fn(x: string | number) {
  return &quot;oops&quot;;
}</p>
<pre class="language-"><code>
### Writing Good Overloads

Like generics, there are a few guidelines you should follow when using function overloads.
Following these principles will make your function easier to call, easier to understand, and easier to implement.

Let&apos;s consider a function that returns the length of a string or an array:

```ts twoslash
function len(s: string): number;
function len(arr: any[]): number;
function len(x: any) {
  return x.length;
}
</code></pre><p>This function is fine; we can invoke it with strings or arrays.
However, we can&apos;t invoke it with a value that might be a string <em>or</em> an array, because TypeScript can only resolve a function call to a single overload:</p>
<p>```ts twoslash
// @errors: 2769
declare function len(s: string): number;
declare function len(arr: any[]): number;
// ---cut---
len(&quot;&quot;); // OK
len([0]); // OK
len(Math.random() &gt; 0.5 ? &quot;hello&quot; : [0]);</p>
<pre class="language-"><code>
Because both overloads have the same argument count and same return type, we can instead write a non-overloaded version of the function:

```ts twoslash
function len(x: any[] | string) {
  return x.length;
}
</code></pre><p>This is much better!
Callers can invoke this with either sort of value, and as an added bonus, we don&apos;t have to figure out a correct implementation signature.</p>
<blockquote>
<p>Always prefer parameters with union types instead of overloads when possible</p>
</blockquote>
<h3 id="declaring-this-in-a-function">Declaring <code>this</code> in a Function</h3>
<p>TypeScript will infer what the <code>this</code> should be in a function via code flow analysis, for example in the following:</p>
<p>```ts twoslash
const user = {
  id: 123,</p>
<p>  admin: false,
  becomeAdmin: function () {
    this.admin = true;
  },
};</p>
<pre class="language-"><code>
TypeScript understands that the function `user.becomeAdmin` has a corresponding `this` which is the outer object `user`. `this`, _heh_, can be enough for a lot of cases, but there are a lot of cases where you need more control over what object `this` represents. The JavaScript specification states that you cannot have a parameter called `this`, and so TypeScript uses that syntax space to let you declare the type for `this` in the function body.

```ts twoslash
interface User {
  id: number;
  admin: boolean;
}
declare const getDB: () =&gt; DB;
// ---cut---
interface DB {
  filterUsers(filter: (this: User) =&gt; boolean): User[];
}

const db = getDB();
const admins = db.filterUsers(function (this: User) {
  return this.admin;
});
</code></pre><p>This pattern is common with callback-style APIs, where another object typically controls when your function is called. Note that you need to use <code>function</code> and not arrow functions to get this behavior:</p>
<p>```ts twoslash
// @errors: 7041 7017
interface User {
  id: number;
  isAdmin: boolean;
}
declare const getDB: () =&gt; DB;
// ---cut---
interface DB {
  filterUsers(filter: (this: User) =&gt; boolean): User[];
}</p>
<p>const db = getDB();
const admins = db.filterUsers(() =&gt; this.admin);</p>
<pre class="language-"><code>
## Other Types to Know About

There are some additional types you&apos;ll want to recognize that appear often when working with function types.
Like all types, you can use them everywhere, but these are especially relevant in the context of functions.

### `void`

`void` represents the return value of functions which don&apos;t return a value.
It&apos;s the inferred type any time a function doesn&apos;t have any `return` statements, or doesn&apos;t return any explicit value from those return statements:

```ts twoslash
// The inferred return type is void
function noop() {
  return;
}
</code></pre><p>In JavaScript, a function that doesn&apos;t return any value will implicitly return the value <code>undefined</code>.
However, <code>void</code> and <code>undefined</code> are not the same thing in TypeScript.
There are further details at the end of this chapter.</p>
<blockquote>
<p><code>void</code> is not the same as <code>undefined</code>.</p>
</blockquote>
<h3 id="object"><code>object</code></h3>
<p>The special type <code>object</code> refers to any value that isn&apos;t a primitive (<code>string</code>, <code>number</code>, <code>boolean</code>, <code>symbol</code>, <code>null</code>, or <code>undefined</code>).
This is different from the <em>empty object type</em> <code>{ }</code>, and also different from the global type <code>Object</code>.
It&apos;s very likely you will never use <code>Object</code>.</p>
<blockquote>
<p><code>object</code> is not <code>Object</code>. <strong>Always</strong> use <code>object</code>!</p>
</blockquote>
<p>Note that in JavaScript, function values are objects: They have properties, have <code>Object.prototype</code> in their prototype chain, are <code>instanceof Object</code>, you can call <code>Object.keys</code> on them, and so on.
For this reason, function types are considered to be <code>object</code>s in TypeScript.</p>
<h3 id="unknown"><code>unknown</code></h3>
<p>The <code>unknown</code> type represents <em>any</em> value.
This is similar to the <code>any</code> type, but is safer because it&apos;s not legal to do anything with an <code>unknown</code> value:</p>
<p>```ts twoslash
// @errors: 2571
function f1(a: any) {
  a.b(); // OK
}
function f2(a: unknown) {
  a.b();
}</p>
<pre class="language-"><code>
This is useful when describing function types because you can describe functions that accept any value without having `any` values in your function body.

Conversely, you can describe a function that returns a value of unknown type:

```ts twoslash
declare const someRandomString: string;
// ---cut---
function safeParse(s: string): unknown {
  return JSON.parse(s);
}

// Need to be careful with &apos;obj&apos;!
const obj = safeParse(someRandomString);
</code></pre><h3 id="never"><code>never</code></h3>
<p>Some functions <em>never</em> return a value:</p>
<p>```ts twoslash
function fail(msg: string): never {
  throw new Error(msg);
}</p>
<pre class="language-"><code>
The `never` type represents values which are _never_ observed.
In a return type, this means that the function throws an exception or terminates execution of the program.

`never` also appears when TypeScript determines there&apos;s nothing left in a union.

```ts twoslash
function fn(x: string | number) {
  if (typeof x === &quot;string&quot;) {
    // do something
  } else if (typeof x === &quot;number&quot;) {
    // do something else
  } else {
    x; // has type &apos;never&apos;!
  }
}
</code></pre><h3 id="function"><code>Function</code></h3>
<p>The global type <code>Function</code> describes properties like <code>bind</code>, <code>call</code>, <code>apply</code>, and others present on all function values in JavaScript.
It also has the special property that values of type <code>Function</code> can always be called; these calls return <code>any</code>:</p>
<p>```ts twoslash
function doSomething(f: Function) {
  f(1, 2, 3);
}</p>
<pre class="language-"><code>
This is an _untyped function call_ and is generally best avoided because of the unsafe `any` return type.

If you need to accept an arbitrary function but don&apos;t intend to call it, the type `() =&gt; void` is generally safer.

## Rest Parameters and Arguments

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>bg-reading<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Background Reading:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Rest Parameters<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Spread Syntax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">&gt;</span></span>

### Rest Parameters

In addition to using optional parameters or overloads to make functions that can accept a variety of fixed argument counts, we can also define functions that take an _unbounded_ number of arguments using _rest parameters_.

A rest parameter appears after all other parameters, and uses the `...` syntax:

```ts twoslash
function multiply(n: number, ...m: number[]) {
  return m.map((x) =&gt; n * x);
}
// &apos;a&apos; gets value [10, 20, 30, 40]
const a = multiply(10, 1, 2, 3, 4);
</code></pre><p>In TypeScript, the type annotation on these parameters is implicitly <code>any[]</code> instead of <code>any</code>, and any type annotation given must be of the form <code>Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>T</span><span class="token punctuation">&gt;</span></span></code>or <code>T[]</code>, or a tuple type (which we&apos;ll learn about later).</p>
<h3 id="rest-arguments">Rest Arguments</h3>
<p>Conversely, we can <em>provide</em> a variable number of arguments from an array using the spread syntax.
For example, the <code>push</code> method of arrays takes any number of arguments:</p>
<p>```ts twoslash
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
arr1.push(...arr2);</p>
<pre class="language-"><code>
Note that in general, TypeScript does not assume that arrays are immutable.
This can lead to some surprising behavior:

```ts twoslash
// @errors: 2556
// Inferred type is number[] -- &quot;an array with zero or more numbers&quot;,
// not specifically two numbers
const args = [8, 5];
const angle = Math.atan2(...args);
</code></pre><p>The best fix for this situation depends a bit on your code, but in general a <code>const</code> context is the most straightforward solution:</p>
<p>```ts twoslash
// Inferred as 2-length tuple
const args = [8, 5] as const;
// OK
const angle = Math.atan2(...args);</p>
<pre class="language-"><code>
Using rest arguments may require turning on [`downlevelIteration`](/tsconfig/#downlevelIteration) when targeting older runtimes.

<span class="token comment">&lt;!-- TODO link to downlevel iteration --&gt;</span>

## Parameter Destructuring

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>bg-reading<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Background Reading:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>Destructuring Assignment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">&gt;</span></span>

You can use parameter destructuring to conveniently unpack objects provided as an argument into one or more local variables in the function body.
In JavaScript, it looks like this:

```js
function sum({ a, b, c }) {
  console.log(a + b + c);
}
sum({ a: 10, b: 3, c: 9 });
</code></pre><p>The type annotation for the object goes after the destructuring syntax:</p>
<p>```ts twoslash
function sum({ a, b, c }: { a: number; b: number; c: number }) {
  console.log(a + b + c);
}</p>
<pre class="language-"><code>
This can look a bit verbose, but you can use a named type here as well:

```ts twoslash
// Same as prior example
type ABC = { a: number; b: number; c: number };
function sum({ a, b, c }: ABC) {
  console.log(a + b + c);
}
</code></pre><h2 id="assignability-of-functions">Assignability of Functions</h2>
<h3 id="return-type-void">Return type <code>void</code></h3>
<p>The <code>void</code> return type for functions can produce some unusual, but expected behavior.</p>
<p>Contextual typing with a return type of <code>void</code> does <strong>not</strong> force functions to <strong>not</strong> return something. Another way to say this is a contextual function type with a <code>void</code> return type (<code>type vf = () =&gt; void</code>), when implemented, can return <em>any</em> other value, but it will be ignored.</p>
<p>Thus, the following implementations of the type <code>() =&gt; void</code> are valid:</p>
<p>```ts twoslash
type voidFunc = () =&gt; void;</p>
<p>const f1: voidFunc = () =&gt; {
  return true;
};</p>
<p>const f2: voidFunc = () =&gt; true;</p>
<p>const f3: voidFunc = function () {
  return true;
};</p>
<pre class="language-"><code>
And when the return value of one of these functions is assigned to another variable, it will retain the type of `void`:

```ts twoslash
type voidFunc = () =&gt; void;

const f1: voidFunc = () =&gt; {
  return true;
};

const f2: voidFunc = () =&gt; true;

const f3: voidFunc = function () {
  return true;
};
// ---cut---
const v1 = f1();

const v2 = f2();

const v3 = f3();
</code></pre><p>This behavior exists so that the following code is valid even though <code>Array.prototype.push</code> returns a number and the <code>Array.prototype.forEach</code> method expects a function with a return type of <code>void</code>.</p>
<p>```ts twoslash
const src = [1, 2, 3];
const dst = [0];</p>
<p>src.forEach((el) =&gt; dst.push(el));</p>
<pre class="language-"><code>
There is one other special case to be aware of, when a literal function definition has a `void` return type, that function must **not** return anything.

```ts twoslash
function f2(): void {
  // @ts-expect-error
  return true;
}

const f3 = function (): void {
  // @ts-expect-error
  return true;
};
</code></pre><p>For more on <code>void</code> please refer to these other documentation entries:</p>
<ul>
<li><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html#void" target="_blank">v1 handbook</a></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#void" target="_blank">v2 handbook</a></li>
<li><a href="https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-returning-non-void-assignable-to-function-returning-void" target="_blank">FAQ - &quot;Why are functions returning non-void assignable to function returning void?&quot;</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Modules.html" class="navigation navigation-prev " aria-label="Previous page: Modules">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Narrowing.html" class="navigation navigation-next " aria-label="Next page: Narrowing">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"More On Functions","layout":"docs","permalink":"/docs/handbook/2/functions.html","oneline":"Learn about how Functions work in TypeScript.","level":"1.4.6","depth":2,"next":{"title":"Narrowing","level":"1.4.7","depth":2,"path":"handbook-v2/Narrowing.md","ref":"handbook-v2/Narrowing.md","articles":[]},"previous":{"title":"Modules","level":"1.4.5","depth":2,"path":"handbook-v2/Modules.md","ref":"handbook-v2/Modules.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"TypeScript 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"handbook-v2/More on Functions.md","mtime":"2021-05-19T00:40:23.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-05-19T00:41:42.790Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

