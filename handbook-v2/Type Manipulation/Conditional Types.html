
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Conditional Types · TypeScript 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Generics.html" />
    
    
    <link rel="prev" href="_Creating Types from Types.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    Declaration Files
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" >
            
                <span>
            
                    
                    Templates
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../../declaration-files/templates/global-modifying-module.d.ts.html">
            
                <a href="../../declaration-files/templates/global-modifying-module.d.ts.html">
            
                    
                    Global Modifying Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.2" data-path="../../declaration-files/templates/global-plugin.d.ts.html">
            
                <a href="../../declaration-files/templates/global-plugin.d.ts.html">
            
                    
                    Global Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.3" data-path="../../declaration-files/templates/global.d.ts.html">
            
                <a href="../../declaration-files/templates/global.d.ts.html">
            
                    
                    Global .d.ts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.4" data-path="../../declaration-files/templates/module-class.d.ts.html">
            
                <a href="../../declaration-files/templates/module-class.d.ts.html">
            
                    
                    Module Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.5" data-path="../../declaration-files/templates/module-function.d.ts.html">
            
                <a href="../../declaration-files/templates/module-function.d.ts.html">
            
                    
                    Module Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.6" data-path="../../declaration-files/templates/module-plugin.d.ts.html">
            
                <a href="../../declaration-files/templates/module-plugin.d.ts.html">
            
                    
                    Module Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.7" data-path="../../declaration-files/templates/module.d.ts.html">
            
                <a href="../../declaration-files/templates/module.d.ts.html">
            
                    
                    Modules .d.ts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../../declaration-files/By Example.html">
            
                <a href="../../declaration-files/By Example.html">
            
                    
                    Declaration Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../../declaration-files/Consumption.html">
            
                <a href="../../declaration-files/Consumption.html">
            
                    
                    Consumption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../../declaration-files/Deep Dive.html">
            
                <a href="../../declaration-files/Deep Dive.html">
            
                    
                    Deep Dive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="../../declaration-files/Do's and Don'ts.html">
            
                <a href="../../declaration-files/Do's and Don'ts.html">
            
                    
                    Do S And Don Ts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="../../declaration-files/Introduction.html">
            
                <a href="../../declaration-files/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="../../declaration-files/Library Structures.html">
            
                <a href="../../declaration-files/Library Structures.html">
            
                    
                    Library Structures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="../../declaration-files/Publishing.html">
            
                <a href="../../declaration-files/Publishing.html">
            
                    
                    Publishing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="../../declaration-files/Templates.html">
            
                <a href="../../declaration-files/Templates.html">
            
                    
                    Templates
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Get Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../get-started/TS for Functional Programmers.html">
            
                <a href="../../get-started/TS for Functional Programmers.html">
            
                    
                    Type Script For Functional Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../get-started/TS for JS Programmers.html">
            
                <a href="../../get-started/TS for JS Programmers.html">
            
                    
                    Type Script For Java Script Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../get-started/TS for OOPers.html">
            
                <a href="../../get-started/TS for OOPers.html">
            
                    
                    Type Script For Java C Programmers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../get-started/TS for the New Programmer.html">
            
                <a href="../../get-started/TS for the New Programmer.html">
            
                    
                    Type Script For The New Programmer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Handbook V 1
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../handbook-v1/Basic Types.html">
            
                <a href="../../handbook-v1/Basic Types.html">
            
                    
                    Basic Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../handbook-v1/Classes.html">
            
                <a href="../../handbook-v1/Classes.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../handbook-v1/Functions.html">
            
                <a href="../../handbook-v1/Functions.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../handbook-v1/Generics.html">
            
                <a href="../../handbook-v1/Generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../handbook-v1/Interfaces.html">
            
                <a href="../../handbook-v1/Interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../handbook-v1/Literal Types.html">
            
                <a href="../../handbook-v1/Literal Types.html">
            
                    
                    Literal Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../handbook-v1/Unions and Intersections.html">
            
                <a href="../../handbook-v1/Unions and Intersections.html">
            
                    
                    Unions And Intersection Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Handbook V 2
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Type Manipulation
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="_Creating Types from Types.html">
            
                <a href="_Creating Types from Types.html">
            
                    
                    Creating Types From Types
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.1.2" data-path="Conditional Types.html">
            
                <a href="Conditional Types.html">
            
                    
                    Conditional Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="Generics.html">
            
                <a href="Generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="Indexed Access Types.html">
            
                <a href="Indexed Access Types.html">
            
                    
                    Indexed Access Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="Keyof Type Operator.html">
            
                <a href="Keyof Type Operator.html">
            
                    
                    Keyof Type Operator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="Mapped Types.html">
            
                <a href="Mapped Types.html">
            
                    
                    Mapped Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="Template Literal Types.html">
            
                <a href="Template Literal Types.html">
            
                    
                    Template Literal Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.8" data-path="Typeof Type Operator.html">
            
                <a href="Typeof Type Operator.html">
            
                    
                    Typeof Type Operator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Basics.html">
            
                <a href="../Basics.html">
            
                    
                    The Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../Classes.html">
            
                <a href="../Classes.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../Everyday Types.html">
            
                <a href="../Everyday Types.html">
            
                    
                    Everyday Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../Modules.html">
            
                <a href="../Modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../More on Functions.html">
            
                <a href="../More on Functions.html">
            
                    
                    More On Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../Narrowing.html">
            
                <a href="../Narrowing.html">
            
                    
                    Narrowing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../Object Types.html">
            
                <a href="../Object Types.html">
            
                    
                    Object Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../The Handbook.html">
            
                <a href="../The Handbook.html">
            
                    
                    The Type Script Handbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../Type Declarations.html">
            
                <a href="../Type Declarations.html">
            
                    
                    Type Declarations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../Understanding Errors.html">
            
                <a href="../Understanding Errors.html">
            
                    
                    Understanding Errors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Javascript
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../javascript/Creating DTS files From JS.html">
            
                <a href="../../javascript/Creating DTS files From JS.html">
            
                    
                    Creating .d.ts Files from .js files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../javascript/Intro to JS with TS.html">
            
                <a href="../../javascript/Intro to JS with TS.html">
            
                    
                    JS Projects Utilizing Type Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../javascript/JSDoc Reference.html">
            
                <a href="../../javascript/JSDoc Reference.html">
            
                    
                    JS Doc Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../javascript/Type Checking JavaScript Files.html">
            
                <a href="../../javascript/Type Checking JavaScript Files.html">
            
                    
                    Type Checking Java Script Files
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Project Config
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../project-config/Compiler Options in MSBuild.html">
            
                <a href="../../project-config/Compiler Options in MSBuild.html">
            
                    
                    Compiler Options In MS Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../project-config/Compiler Options.html">
            
                <a href="../../project-config/Compiler Options.html">
            
                    
                    Tsc CLI Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../project-config/Configuring Watch.html">
            
                <a href="../../project-config/Configuring Watch.html">
            
                    
                    Configuring Watch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../project-config/Integrating with Build Tools.html">
            
                <a href="../../project-config/Integrating with Build Tools.html">
            
                    
                    Integrating With Build Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../project-config/Project References.html">
            
                <a href="../../project-config/Project References.html">
            
                    
                    Project References
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../project-config/tsconfig.json.html">
            
                <a href="../../project-config/tsconfig.json.html">
            
                    
                    What is a tsconfig.json
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Reference
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../reference/Advanced Types.html">
            
                <a href="../../reference/Advanced Types.html">
            
                    
                    Advanced Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../reference/Declaration Merging.html">
            
                <a href="../../reference/Declaration Merging.html">
            
                    
                    Declaration Merging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../reference/Decorators.html">
            
                <a href="../../reference/Decorators.html">
            
                    
                    Decorators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../../reference/Enums.html">
            
                <a href="../../reference/Enums.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../../reference/Iterators and Generators.html">
            
                <a href="../../reference/Iterators and Generators.html">
            
                    
                    Iterators And Generators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../../reference/JSX.html">
            
                <a href="../../reference/JSX.html">
            
                    
                    JSX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../../reference/Mixins.html">
            
                <a href="../../reference/Mixins.html">
            
                    
                    Mixins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../../reference/Module Resolution.html">
            
                <a href="../../reference/Module Resolution.html">
            
                    
                    Module Resolution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../../reference/Modules.html">
            
                <a href="../../reference/Modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../../reference/Namespaces and Modules.html">
            
                <a href="../../reference/Namespaces and Modules.html">
            
                    
                    Namespaces And Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../../reference/Namespaces.html">
            
                <a href="../../reference/Namespaces.html">
            
                    
                    Namespaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../../reference/Symbols.html">
            
                <a href="../../reference/Symbols.html">
            
                    
                    Symbols
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../../reference/Triple-Slash Directives.html">
            
                <a href="../../reference/Triple-Slash Directives.html">
            
                    
                    Triple Slash Directives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../../reference/Type Compatibility.html">
            
                <a href="../../reference/Type Compatibility.html">
            
                    
                    Type Compatibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../../reference/Type Inference.html">
            
                <a href="../../reference/Type Inference.html">
            
                    
                    Type Inference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="../../reference/Utility Types.html">
            
                <a href="../../reference/Utility Types.html">
            
                    
                    Utility Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="../../reference/Variable Declarations.html">
            
                <a href="../../reference/Variable Declarations.html">
            
                    
                    Variable Declaration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Release Notes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../release-notes/Overview.html">
            
                <a href="../../release-notes/Overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../release-notes/TypeScript 1.1.html">
            
                <a href="../../release-notes/TypeScript 1.1.html">
            
                    
                    TypeScript 1.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../release-notes/TypeScript 1.3.html">
            
                <a href="../../release-notes/TypeScript 1.3.html">
            
                    
                    TypeScript 1.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../release-notes/TypeScript 1.4.html">
            
                <a href="../../release-notes/TypeScript 1.4.html">
            
                    
                    TypeScript 1.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../../release-notes/TypeScript 1.5.html">
            
                <a href="../../release-notes/TypeScript 1.5.html">
            
                    
                    TypeScript 1.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../../release-notes/TypeScript 1.6.html">
            
                <a href="../../release-notes/TypeScript 1.6.html">
            
                    
                    TypeScript 1.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../../release-notes/TypeScript 1.7.html">
            
                <a href="../../release-notes/TypeScript 1.7.html">
            
                    
                    TypeScript 1.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../../release-notes/TypeScript 1.8.html">
            
                <a href="../../release-notes/TypeScript 1.8.html">
            
                    
                    TypeScript 1.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="../../release-notes/TypeScript 2.0.html">
            
                <a href="../../release-notes/TypeScript 2.0.html">
            
                    
                    TypeScript 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="../../release-notes/TypeScript 2.1.html">
            
                <a href="../../release-notes/TypeScript 2.1.html">
            
                    
                    TypeScript 2.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.11" data-path="../../release-notes/TypeScript 2.2.html">
            
                <a href="../../release-notes/TypeScript 2.2.html">
            
                    
                    TypeScript 2.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.12" data-path="../../release-notes/TypeScript 2.3.html">
            
                <a href="../../release-notes/TypeScript 2.3.html">
            
                    
                    TypeScript 2.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.13" data-path="../../release-notes/TypeScript 2.4.html">
            
                <a href="../../release-notes/TypeScript 2.4.html">
            
                    
                    TypeScript 2.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.14" data-path="../../release-notes/TypeScript 2.5.html">
            
                <a href="../../release-notes/TypeScript 2.5.html">
            
                    
                    TypeScript 2.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.15" data-path="../../release-notes/TypeScript 2.6.html">
            
                <a href="../../release-notes/TypeScript 2.6.html">
            
                    
                    TypeScript 2.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.16" data-path="../../release-notes/TypeScript 2.7.html">
            
                <a href="../../release-notes/TypeScript 2.7.html">
            
                    
                    TypeScript 2.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.17" data-path="../../release-notes/TypeScript 2.8.html">
            
                <a href="../../release-notes/TypeScript 2.8.html">
            
                    
                    TypeScript 2.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.18" data-path="../../release-notes/TypeScript 2.9.html">
            
                <a href="../../release-notes/TypeScript 2.9.html">
            
                    
                    TypeScript 2.9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.19" data-path="../../release-notes/TypeScript 3.0.html">
            
                <a href="../../release-notes/TypeScript 3.0.html">
            
                    
                    TypeScript 3.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.20" data-path="../../release-notes/TypeScript 3.1.html">
            
                <a href="../../release-notes/TypeScript 3.1.html">
            
                    
                    TypeScript 3.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.21" data-path="../../release-notes/TypeScript 3.2.html">
            
                <a href="../../release-notes/TypeScript 3.2.html">
            
                    
                    TypeScript 3.2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.22" data-path="../../release-notes/TypeScript 3.3.html">
            
                <a href="../../release-notes/TypeScript 3.3.html">
            
                    
                    TypeScript 3.3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.23" data-path="../../release-notes/TypeScript 3.4.html">
            
                <a href="../../release-notes/TypeScript 3.4.html">
            
                    
                    TypeScript 3.4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.24" data-path="../../release-notes/TypeScript 3.5.html">
            
                <a href="../../release-notes/TypeScript 3.5.html">
            
                    
                    TypeScript 3.5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.25" data-path="../../release-notes/TypeScript 3.6.html">
            
                <a href="../../release-notes/TypeScript 3.6.html">
            
                    
                    TypeScript 3.6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.26" data-path="../../release-notes/TypeScript 3.7.html">
            
                <a href="../../release-notes/TypeScript 3.7.html">
            
                    
                    TypeScript 3.7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.27" data-path="../../release-notes/TypeScript 3.8.html">
            
                <a href="../../release-notes/TypeScript 3.8.html">
            
                    
                    TypeScript 3.8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.28" data-path="../../release-notes/TypeScript 3.9.html">
            
                <a href="../../release-notes/TypeScript 3.9.html">
            
                    
                    TypeScript 3.9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.29" data-path="../../release-notes/TypeScript 4.0.html">
            
                <a href="../../release-notes/TypeScript 4.0.html">
            
                    
                    TypeScript 4.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.30" data-path="../../release-notes/TypeScript 4.1.html">
            
                <a href="../../release-notes/TypeScript 4.1.html">
            
                    
                    TypeScript 4.1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.31" data-path="../../release-notes/TypeScript 4.2.html">
            
                <a href="../../release-notes/TypeScript 4.2.html">
            
                    
                    TypeScript 4.2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../tutorials/Angular.html">
            
                <a href="../../tutorials/Angular.html">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../tutorials/ASP.NET Core.html">
            
                <a href="../../tutorials/ASP.NET Core.html">
            
                    
                    ASP.NET Core
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../tutorials/Babel with TypeScript.html">
            
                <a href="../../tutorials/Babel with TypeScript.html">
            
                    
                    Using Babel With Type Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../../tutorials/DOM Manipulation.html">
            
                <a href="../../tutorials/DOM Manipulation.html">
            
                    
                    DOM Manipulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../../tutorials/Gulp.html">
            
                <a href="../../tutorials/Gulp.html">
            
                    
                    Gulp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../../tutorials/Migrating from JavaScript.html">
            
                <a href="../../tutorials/Migrating from JavaScript.html">
            
                    
                    Migrating From Java Script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../../tutorials/React.html">
            
                <a href="../../tutorials/React.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../../tutorials/TypeScript Tooling in 5 minutes.html">
            
                <a href="../../tutorials/TypeScript Tooling in 5 minutes.html">
            
                    
                    Type Script Tooling In 5 Minutes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../../Nightly Builds.html">
            
                <a href="../../Nightly Builds.html">
            
                    
                    Nightly Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../">
            
                <a href="../../">
            
                    
                    Type Script Tooling In 5 Minutes
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Conditional Types</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>At the heart of most useful programs, we have to make decisions based on input.
JavaScript programs are no different, but given the fact that values can be easily introspected, those decisions are also based on the types of the inputs.
<em>Conditional types</em> help describe the relation between the types of inputs and outputs.</p>
<p>```ts twoslash
interface Animal {
  live(): void;
}
interface Dog extends Animal {
  woof(): void;
}</p>
<p>type Example1 = Dog extends Animal ? number : string;
//   ^?</p>
<p>type Example2 = RegExp extends Animal ? number : string;
//   ^?</p>
<pre class="language-"><code>
Conditional types take a form that looks a little like conditional expressions (`condition ? trueExpression : falseExpression`) in JavaScript:

```ts twoslash
type SomeType = any;
type OtherType = any;
type TrueType = any;
type FalseType = any;
type Stuff =
  // ---cut---
  SomeType extends OtherType ? TrueType : FalseType;
</code></pre><p>When the type on the left of the <code>extends</code> is assignable to the one on the right, then you&apos;ll get the type in the first branch (the &quot;true&quot; branch); otherwise you&apos;ll get the type in the latter branch (the &quot;false&quot; branch).</p>
<p>From the examples above, conditional types might not immediately seem useful - we can tell ourselves whether or not <code>Dog extends Animal</code> and pick <code>number</code> or <code>string</code>!
But the power of conditional types comes from using them with generics.</p>
<p>For example, let&apos;s take the following <code>createLabel</code> function:</p>
<p>```ts twoslash
interface IdLabel {
  id: number /<em> some fields </em>/;
}
interface NameLabel {
  name: string /<em> other fields </em>/;
}</p>
<p>function createLabel(id: number): IdLabel;
function createLabel(name: string): NameLabel;
function createLabel(nameOrId: string | number): IdLabel | NameLabel;
function createLabel(nameOrId: string | number): IdLabel | NameLabel {
  throw &quot;unimplemented&quot;;
}</p>
<pre class="language-"><code>
These overloads for createLabel describe a single JavaScript function that makes a choice based on the types of its inputs. Note a few things:

1. If a library has to make the same sort of choice over and over throughout its API, this becomes cumbersome.
2. We have to create three overloads: one for each case when we&apos;re _sure_ of the type (one for `string` and one for `number`), and one for the most general case (taking a `string | number`). For every new type `createLabel` can handle, the number of overloads grows exponentially.

Instead, we can encode that logic in a conditional type:

```ts twoslash
interface IdLabel {
  id: number /* some fields */;
}
interface NameLabel {
  name: string /* other fields */;
}
// ---cut---
type NameOrId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>T</span> <span class="token attr-name">extends</span> <span class="token attr-name">number</span> <span class="token attr-name">|</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span> = T extends number
  ? IdLabel
  : NameLabel;
</code></pre><p>We can then use that conditional type to simplify out overloads down to a single function with no overloads.</p>
<p>```ts twoslash
interface IdLabel {
  id: number /<em> some fields </em>/;
}
interface NameLabel {
  name: string /<em> other fields </em>/;
}
type NameOrId<t extends="" number="" |="" string=""> = T extends number
  ? IdLabel
  : NameLabel;
// ---cut---
function createLabel<t extends="" number="" |="" string="">(idOrName: T): NameOrId<t> {
  throw &quot;unimplemented&quot;;
}</t></t></t></p>
<p>let a = createLabel(&quot;typescript&quot;);
//  ^?</p>
<p>let b = createLabel(2.8);
//  ^?</p>
<p>let c = createLabel(Math.random() ? &quot;hello&quot; : 42);
//  ^?</p>
<pre class="language-"><code>
### Conditional Type Constraints

Often, the checks in a conditional type will provide us with some new information.
Just like with narrowing with type guards can give us a more specific type, the true branch of a conditional type will further constraint generics by the type we check against.

For example, let&apos;s take the following:

```ts twoslash
// @errors: 2536
type MessageOf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>T</span><span class="token punctuation">&gt;</span></span> = T[&quot;message&quot;];
</code></pre><p>In this example, TypeScript errors because <code>T</code> isn&apos;t known to have a property called <code>message</code>.
We could constrain <code>T</code>, and TypeScript would no longer complain:</p>
<p>```ts twoslash
type MessageOf<t extends="" {="" message:="" unknown="" }=""> = T[&quot;message&quot;];</t></p>
<p>interface Email {
  message: string;
}</p>
<p>interface Dog {
  bark(): void;
}</p>
<p>type EmailMessageContents = MessageOf<email>;
//   ^?</email></p>
<pre class="language-"><code>
However, what if we wanted `MessageOf` to take any type, and default to something like `never` if a `message` property isn&apos;t available?
We can do this by moving the constraint out and introducing a conditional type:

```ts twoslash
type MessageOf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>T</span><span class="token punctuation">&gt;</span></span> = T extends { message: unknown } ? T[&quot;message&quot;] : never;

interface Email {
  message: string;
}

interface Dog {
  bark(): void;
}

type EmailMessageContents = MessageOf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Email</span><span class="token punctuation">&gt;</span></span>;
//   ^?

type DogMessageContents = MessageOf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Dog</span><span class="token punctuation">&gt;</span></span>;
//   ^?
</code></pre><p>Within the true branch, TypeScript knows that <code>T</code> <em>will</em> have a <code>message</code> property.</p>
<p>As another example, we could also write a type called <code>Flatten</code> that flattens array types to their element types, but leaves them alone otherwise:</p>
<p>```ts twoslash
type Flatten<t> = T extends any[] ? T[number] : T;</t></p>
<p>// Extracts out the element type.
type Str = Flatten<string[]>;
//   ^?</string[]></p>
<p>// Leaves the type alone.
type Num = Flatten<number>;
//   ^?</number></p>
<pre class="language-"><code>
When `Flatten` is given an array type, it uses an indexed access with `number` to fetch out `string[]`&apos;s element type.
Otherwise, it just returns the type it was given.

### Inferring Within Conditional Types

We just found ourselves using conditional types to apply constraints and then extract out types.
This ends up being such a common operation that conditional types make it easier.

Conditional types provide us with a way to infer from types we compare against in the true branch using the `infer` keyword.
For example, we could have inferred the element type in `Flatten` instead of fetching it out &quot;manually&quot; with an indexed access type:

```ts twoslash
type Flatten<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span> = Type extends Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infer</span> <span class="token attr-name">Item</span><span class="token punctuation">&gt;</span></span> ? Item : Type;
</code></pre><p>Here, we used the <code>infer</code> keyword to declaratively introduce a new generic type variable named <code>Item</code> instead of specifying how to retrieve the element type of <code>T</code> within the true branch.
This frees us from having to think about how to dig through and probing apart the structure of the types we&apos;re interested in.</p>
<p>We can write some useful helper type aliases using the <code>infer</code> keyword.
For example, for simple cases, we can extract the return type out from function types:</p>
<p>```ts twoslash
type GetReturnType<type> = Type extends (...args: never[]) =&gt; infer Return
  ? Return
  : never;</type></p>
<p>type Num = GetReturnType&lt;() =&gt; number&gt;;
//   ^?</p>
<p>type Str = GetReturnType&lt;(x: string) =&gt; string&gt;;
//   ^?</p>
<p>type Bools = GetReturnType&lt;(a: boolean, b: boolean) =&gt; boolean[]&gt;;
//   ^?</p>
<pre class="language-"><code>
When inferring from a type with multiple call signatures (such as the type of an overloaded function), inferences are made from the _last_ signature (which, presumably, is the most permissive catch-all case). It is not possible to perform overload resolution based on a list of argument types.

```ts twoslash
declare function stringOrNum(x: string): number;
declare function stringOrNum(x: number): string;
declare function stringOrNum(x: string | number): string | number;

type T1 = ReturnType<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeof</span> <span class="token attr-name">stringOrNum</span><span class="token punctuation">&gt;</span></span>;
//   ^?
</code></pre><h2 id="distributive-conditional-types">Distributive Conditional Types</h2>
<p>When conditional types act on a generic type, they become <em>distributive</em> when given a union type.
For example, take the following:</p>
<p>```ts twoslash
type ToArray<type> = Type extends any ? Type[] : never;</type></p>
<pre class="language-"><code>
If we plug a union type into `ToArray`, then the conditional type will be applied to each member of that union.

```ts twoslash
type ToArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span> = Type extends any ? Type[] : never;

type StrArrOrNumArr = ToArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">&gt;</span></span>;
//   ^?
</code></pre><p>What happens here is that <code>StrOrNumArray</code> distributes on:</p>
<p>```ts twoslash
type StrArrOrNumArr =
  // ---cut---
  string | number;</p>
<pre class="language-"><code>
and maps over each member type of the union, to what is effectively:

```ts twoslash
type ToArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span> = Type extends any ? Type[] : never;
type StrArrOrNumArr =
  // ---cut---
  ToArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span> | ToArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span>;
</code></pre><p>which leaves us with:</p>
<p>```ts twoslash
type StrArrOrNumArr =
  // ---cut---
  string[] | number[];</p>
<pre class="language-"><code>
Typically, distributivity is the desired behavior.
To avoid that behavior, you can surround each side of the `extends` keyword with square brackets.

```ts twoslash
type ToArrayNonDist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Type</span><span class="token punctuation">&gt;</span></span> = [Type] extends [any] ? Type[] : never;

// &apos;StrOrNumArr&apos; is no longer a union.
type StrOrNumArr = ToArrayNonDist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">|</span> <span class="token attr-name">number</span><span class="token punctuation">&gt;</span></span>;
//   ^?
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="_Creating Types from Types.html" class="navigation navigation-prev " aria-label="Previous page: Creating Types From Types">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Generics.html" class="navigation navigation-next " aria-label="Next page: Generics">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Conditional Types","layout":"docs","permalink":"/docs/handbook/2/conditional-types.html","oneline":"Create types which act like if statements in the type system.","level":"1.4.1.2","depth":3,"next":{"title":"Generics","level":"1.4.1.3","depth":3,"path":"handbook-v2/Type Manipulation/Generics.md","ref":"handbook-v2/Type Manipulation/Generics.md","articles":[]},"previous":{"title":"Creating Types From Types","level":"1.4.1.1","depth":3,"path":"handbook-v2/Type Manipulation/_Creating Types from Types.md","ref":"handbook-v2/Type Manipulation/_Creating Types from Types.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"TypeScript 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"handbook-v2/Type Manipulation/Conditional Types.md","mtime":"2021-05-19T00:40:23.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-05-19T00:41:42.790Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

